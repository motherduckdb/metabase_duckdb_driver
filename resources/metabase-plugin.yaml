info:
  name: Metabase DuckDB Driver
  version: 1.2.0
  description: Allows Metabase to connect to DuckDB databases.
contact-info:
  name: MotherDuck Support
  address: support@motherduck.com
driver:
  name: duckdb
  display-name: MotherDuck
  lazy-load: true
  parent: sql-jdbc
  connection-properties:
    - name: database_file
      display-name: MotherDuck database path
      placeholder: "md:my_db"
      required: true
    - name: old_implicit_casting
      display-name: Use DuckDB old_implicit_casting option
      default: true
      type: boolean
    - name: motherduck_token
      display-name: Motherduck Token
      type: secret
      secret-kind: password
      required: true

init:
  - step: load-namespace
    namespace: metabase.driver.duckdb
  - step: register-jdbc-driver
    class: org.duckdb.DuckDBDriver
